{% extends 'base.html' %}


{% block content %}
<div class="container">
    <div class="bg-dark p-4 py-5 rounded-4 mt-4 ">

        <h5 class="text-white mb-3">Order history</h5>


        <div class="table-responsive">

            <table class="table table-dark table-borderless table-hover text-nowrap">
                <thead>
                    <tr class="table-active">
                        <th scope="col">#</th>
                        <th scope="col">Product</th>
                        <th scope="col">Amount</th>
                        <th scope="col">Paid status</th>
                        <th scope="col">Ordered date</th>
                    </tr>
                </thead>
                <tbody>

                    {% for item in items %}

                    <tr>
                        <th scope="row">{{item.id}}</th>

                        <td>
                            <ul class="mb-0 p-0" style="list-style:none;">
                                {% for order_item in item.items.all %}
                                <li>{{ order_item.product.name }} × {{ order_item.quantity }}</li>
                                {% endfor %}
                            </ul>
                        </td>


                        <td>₹ {{ item.amount|floatformat:2 }}</td>


                        <td>
                            {% if item.paid %}
                            <i class="bi bi-check-circle-fill text-success"></i>
                            {% else %}
                            <i class="bi bi-x-circle text-secondary"></i>
                            {% endif %}
                        </td>
                        <td>{{ item.created_at | date:"M d,Y" }}</td>
                    </tr>
                    {% endfor %}




                </tbody>
            </table>
        </div>


    </div>
    
    

</div>
{% endblock %}